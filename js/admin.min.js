jQuery.cookie=function(a,f,d){if("undefined"!=typeof f){d=d||{};null===f&&(f="",d.expires=-1);var b="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString))"number"==typeof d.expires?(b=new Date,b.setTime(b.getTime()+864E5*d.expires)):b=d.expires,b="; expires="+b.toUTCString();var c=d.path?"; path="+d.path:"",e=d.domain?"; domain="+d.domain:"",d=d.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(f),b,c,e,d].join("")}else{f=null;if(document.cookie&&""!=document.cookie){d=
document.cookie.split(";");for(b=0;b<d.length;b++)if(c=jQuery.trim(d[b]),c.substring(0,a.length+1)==a+"="){f=decodeURIComponent(c.substring(a.length+1));break}}return f}};
(function(a){a.fn.FormDependencies=function(f){var f=a.extend({attribute:"rules",selectors:"input, select, textarea, button",hide_inactive:!1,clear_inactive:!1,identify_by:"name"},f),d=function(b){!a(b).is(":input")&&!a(b).hasClass("disabled")&&a(b).addClass("disabled");if(!b.disabled&&(b.disabled=!0,a('label[for="'+b.id+'"]').addClass("disabled"),f.hide_inactive&&(a(b).hide(),a('label[for="'+b.id+'"]').hide()),f.clear_inactive&&!a(b).is(":submit")))a(b).is(":checkbox, :radio")?b.checked=!1:a(b).is("select")||
a(b).val("")},b=function(b){!a(b).is(":input")&&a(b).hasClass("disabled")&&a(b).removeClass("disabled");if(b.disabled||!a(b).is(":visible"))b.disabled=!1,a('label[for="'+b.id+'"]').removeClass("disabled"),f.hide_inactive&&(a(b).show(),a('label[for="'+b.id+'"]').show())};return this.each(function(){var c=this,e=[],i=[];a(f.selectors,this).each(function(){var b=a(this).attr(f.attribute),g,d={},j,n;if(!b)return this;b=b.split("+");for(j=0;j<b.length;j++)g=a.trim(b[j]),n=!1,"!"===g[0]&&(g=g.substr(1),
n=!0),g=g.split(":"),values=g[1]||"",!values&&n&&(values="!"),d[g[0]]=values.split("|"),a("["+f.identify_by+'="'+g[0]+'"]',c).filter('[type!="hidden"]').each(function(){a.inArray(this,i)!==-1||i.push(this)});e.push({target:this,deps:d})});i.length&&a(i).on("change keyup",function(){a.each(e,function(k,g){var e=!1;a.each(g.deps,function(b,k){var g;a:{var d,i=!1,l=a("["+f.identify_by+'="'+b+'"]',c),l=l.is(":radio")?l.filter(":checked"):l.filter('[type!="hidden"]');for(g=0;g<k.length;g++)if(d=k[g],i=
!1,"!"===d[0]&&(i=!0,d=d.substr(1)),!d&&l.is(":checked")||l.val()==d||(l.is(":submit")||l.is(":button"))&&!l.is(":disabled")){g=!i;break a}g=i}if(!g)return e=!0,!1});e?d(g.target):b(g.target)})}).change();return this})}})(jQuery);
(function(){function a(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,function(){c.call(a)});else throw Error("not supported or DOM not loaded");}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])}function d(a,b){a.className=a.className.replace(RegExp("\\b"+b+"\\b"),"")}function b(a){a.parentNode.removeChild(a)}var c=document.documentElement.getBoundingClientRect?function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,a=
c.body,c=c.documentElement,e=c.clientTop||a.clientTop||0,d=c.clientLeft||a.clientLeft||0,f=1;a.getBoundingClientRect&&(f=a.getBoundingClientRect(),f=(f.right-f.left)/a.clientWidth);1<f&&(d=e=0);return{top:b.top/f+(window.pageYOffset||c&&c.scrollTop/f||a.scrollTop/f)-e,left:b.left/f+(window.pageXOffset||c&&c.scrollLeft/f||a.scrollLeft/f)-d}}:function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return{left:c,top:b}},e=function(){var a=document.createElement("div");
return function(b){a.innerHTML=b;return a.removeChild(a.firstChild)}}(),i=function(){var a=0;return function(){return"ValumsAjaxUpload"+a++}}();window.AjaxUpload=function(b,c){this._settings={action:"upload.php",name:"userfile",data:{},autoSubmit:!0,responseType:!1,hoverClass:"hover",disabledClass:"disabled",onChange:function(){},onSubmit:function(){},onComplete:function(){}};for(var e in c)c.hasOwnProperty(e)&&(this._settings[e]=c[e]);b.jquery?b=b[0]:"string"==typeof b&&(/^#.*/.test(b)&&(b=b.slice(1)),
b=document.getElementById(b));if(!b||1!==b.nodeType)throw Error("Please make sure that you're passing a valid element");"A"==b.nodeName.toUpperCase()&&a(b,"click",function(a){if(a&&a.preventDefault)a.preventDefault();else if(window.event)window.event.returnValue=false});this._button=b;this._input=null;this._disabled=!1;this.enable();this._rerouteClicks()};AjaxUpload.prototype={setData:function(a){this._settings.data=a},disable:function(){var a=this._button,b=this._settings.disabledClass;RegExp("\\b"+
b+"\\b").test(a.className)||(a.className+=" "+b);this._disabled=!0;a=this._button.nodeName.toUpperCase();("INPUT"==a||"BUTTON"==a)&&this._button.setAttribute("disabled","disabled");this._input&&(this._input.parentNode.style.visibility="hidden")},enable:function(){d(this._button,this._settings.disabledClass);this._button.removeAttribute("disabled");this._disabled=!1},_createInput:function(){var b=this,c=document.createElement("input");c.setAttribute("type","file");c.setAttribute("name",this._settings.name);
f(c,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",cursor:"pointer"});var e=document.createElement("div");f(e,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583});if("0"!==e.style.opacity){if("undefined"==typeof e.filters)throw Error("Opacity not supported by the browser");e.style.filter="alpha(opacity=0)"}a(c,"change",function(){if(c&&""!==c.value){var a=c.value.replace(/.*(\/|\\)/,"");!1===b._settings.onChange.call(b,
a,-1!==a.indexOf(".")?a.replace(/.*[.]/,""):"")?b._clearInput():b._settings.autoSubmit&&b.submit()}});a(c,"mouseover",function(){var a=b._button,c=b._settings.hoverClass;RegExp("\\b"+c+"\\b").test(a.className)||(a.className+=" "+c)});a(c,"mouseout",function(){d(b._button,b._settings.hoverClass)});e.appendChild(c);document.body.appendChild(e);this._input=c},_clearInput:function(){this._input&&(b(this._input.parentNode),this._input=null,this._createInput(),d(this._button,this._settings.hoverClass))},
_rerouteClicks:function(){var b=this;a(b._button,"mouseover",function(){var a;if(!b._disabled){b._input||b._createInput();var e=b._input.parentNode,d=b._button,i;a=c(d);i=a.left;a=a.top;f(e,{position:"absolute",left:i+"px",top:a+"px",width:d.offsetWidth+"px",height:d.offsetHeight+"px"});e.style.visibility="visible"}})},_createIframe:function(){var a=i(),b=e('<iframe src="javascript:false;" name="'+a+'" />');b.setAttribute("id",a);b.style.display="none";document.body.appendChild(b);return b},_createForm:function(a){var b=
this._settings,c=e('<form method="post" enctype="multipart/form-data"></form>');c.setAttribute("action",b.action);c.setAttribute("target",a.name);c.style.display="none";document.body.appendChild(c);for(var d in b.data)b.data.hasOwnProperty(d)&&(a=document.createElement("input"),a.setAttribute("type","hidden"),a.setAttribute("name",d),a.setAttribute("value",b.data[d]),c.appendChild(a));return c},_getResponse:function(c,e){var d=!1,f=this,i=this._settings;a(c,"load",function(){if("javascript:'%3Chtml%3E%3C/html%3E';"==
c.src||"javascript:'<html></html>';"==c.src)d&&setTimeout(function(){b(c)},0);else{var a=c.contentDocument?c.contentDocument:window.frames[c.id].document;if(!(a.readyState&&"complete"!=a.readyState)&&!(a.body&&"false"==a.body.innerHTML)){var m;a.XMLDocument?m=a.XMLDocument:a.body?(m=a.body.innerHTML,i.responseType&&"json"==i.responseType.toLowerCase()&&(a.body.firstChild&&"PRE"==a.body.firstChild.nodeName.toUpperCase()&&(m=a.body.firstChild.firstChild.nodeValue),m=m?eval("("+m+")"):{})):m=a;i.onComplete.call(f,
e,m);d=!0;c.src="javascript:'<html></html>';"}}})},submit:function(){var a=this._settings;if(this._input&&""!==this._input.value){var c=this._input.value.replace(/.*(\/|\\)/,"");if(!1===a.onSubmit.call(this,c,-1!==c.indexOf(".")?c.replace(/.*[.]/,""):""))this._clearInput();else{var a=this._createIframe(),e=this._createForm(a);b(this._input.parentNode);d(this._button,this._settings.hoverClass);e.appendChild(this._input);e.submit();b(e);b(this._input);this._input=null;this._getResponse(a,c);this._createInput()}}}}})();
(function(a){a.extend(a.fn,{miniColors:function(f,d){var b=["FFFFFF","CCCCCC","888888","444444","000000"],c=function(b,c){var d=l(b.val()),f=a('<a class="trigger" href="#"></a>');d&&f.css("background-color","#"+d);d||f.addClass("alpha");f.insertAfter(b);b.addClass("miniColors").data("cp.original-maxlength",b.attr("maxlength")||null).data("cp.original-autocomplete",b.attr("autocomplete")||null).data("cp.letterCase","uppercase").data("cp.trigger",f).data("cp.hsb",t(d)).data("cp.change",c.change?c.change:
null).attr("maxlength",7).attr("autocomplete","off").val(o(d,c.letterCase));c.readonly&&b.prop("readonly",!0);c.disabled&&e(b);f.bind("click.miniColors",function(a){a.preventDefault();i(b)});b.bind("focus.miniColors",function(){i(b)}).bind("blur.miniColors",function(){var a=l(b.val());b.val(a?o(a,b.data("cp.letterCase")):"")}).bind("keydown.miniColors",function(a){9===a.keyCode&&k(b)}).bind("keyup.miniColors",function(){n(b)}).bind("paste.miniColors",function(){setTimeout(function(){n(b)},5)})},e=
function(a){k(a);a.prop("disabled",!0).data("cp.trigger").css("opacity",0.5)},i=function(c){if(c.prop("disabled"))return!1;k();var e=a('<div class="selector"></div>'),d=a('<div class="shortcuts"></div>');a('<a class="alpha"></a>').appendTo(d).click(function(){c.val("").data("cp.trigger").addClass("alpha");k();c.data("cp.change")&&c.data("cp.change").call(c.get(0),!1,!1)});for(var f=1;5>=f;f++)a('<a class="quick-set-'+f+'"></a>').appendTo(d).data("\u00edndex",f).css("background-color","#"+b[f-1]).click(function(){var e=
b[a(this).data("\u00edndex")-1];a(this).css("background-color","#"+e);c.val(e);n(c)});var f=c.is(":visible")?c.offset():c.data("cp.trigger").offset(),i=c.is(":visible")?c.outerHeight():c.data("cp.trigger").outerHeight(),j=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,l=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight;e.append('<div class="wheel" style="background-color: #fff;"><div class="wheel-picker"></div></div>').append('<div class="hue"><div class="hue-picker"></div></div>').append(d).css({top:f.top+
i+150>o+p?f.top-160:f.top+i,left:f.left+210>j+l?f.left-210:f.left,display:"none"}).addClass(c.attr("class"));d=c.data("cp.hsb");e.find(".wheel").css("backgroundColor","#"+r(q({h:d.h,s:100,b:100})));(f=c.data("cp.colorPosition"))||(f=m(d));e.find(".wheel-picker").css({top:f.y+"px",left:f.x+"px"});(f=c.data("cp.huePosition"))||(f={y:Math.min(Math.max(150-d.h/2.4,0),150)-1});e.find(".hue-picker").css("top",f.y+"px");c.data("cp.selector",e).data("cp.huePicker",e.find(".hue-picker")).data("cp.colorPicker",
e.find(".wheel-picker")).data("cp.mousebutton",0);a("body").append(e);e.fadeIn(100);e.bind("selectstart",function(){return!1});a(document).bind("mousedown.miniColors touchstart.miniColors",function(b){c.data("cp.mousebutton",1);a(b.target).parents().andSelf().hasClass("wheel")&&(b.preventDefault(),c.data("cp.moving","colors"),g(c,b));a(b.target).parents().andSelf().hasClass("hue")&&(b.preventDefault(),c.data("cp.moving","hues"),h(c,b));a(b.target).parents().andSelf().hasClass("selector")?b.preventDefault():
a(b.target).parents().andSelf().hasClass("miniColors")||k(c)});a(document).bind("mouseup.miniColors touchend.miniColors",function(a){a.preventDefault();c.data("cp.mousebutton",0).removeData("moving")}).bind("mousemove.miniColors touchmove.miniColors",function(a){a.preventDefault();1===c.data("cp.mousebutton")&&("colors"===c.data("cp.moving")&&g(c,a),"hues"===c.data("cp.moving")&&h(c,a))})},k=function(c){var e=c?a(c).val():!1;e&&-1===a.inArray(e,b)&&(b.unshift(e),b=b.slice(0,-1));c||(c=".miniColors");
a(c).each(function(){var b=a(this).data("cp.selector");a(this).removeData("selector");a(b).fadeOut(100,function(){a(this).remove()})});a(document).unbind(".miniColors")},g=function(a,b){var c=a.data("cp.colorPicker");c.hide();var e={x:b.pageX,y:b.pageY};b.originalEvent.changedTouches&&(e.x=b.originalEvent.changedTouches[0].pageX,e.y=b.originalEvent.changedTouches[0].pageY);e.x=e.x-a.data("cp.selector").find(".wheel").offset().left-5;e.y=e.y-a.data("cp.selector").find(".wheel").offset().top-5;-5>=
e.x&&(e.x=-5);144<=e.x&&(e.x=144);-5>=e.y&&(e.y=-5);144<=e.y&&(e.y=144);a.data("cp.colorPosition",e);c.css("left",e.x).css("top",e.y).show();var c=Math.round(0.67*(e.x+5)),c=Math.min(Math.max(c,0),100),e=100-Math.round(0.67*(e.y+5)),e=Math.min(Math.max(e,0),100),f=a.data("cp.hsb");f.s=c;f.b=e;j(a,f,!0)},h=function(a,b){var c=a.data("cp.huePicker");c.hide();var e={y:b.pageY};b.originalEvent.changedTouches&&(e.y=b.originalEvent.changedTouches[0].pageY);e.y=e.y-a.data("cp.selector").find(".wheel").offset().top-
1;e.y=Math.min(Math.max(e.y,-1),149);a.data("cp.huePosition",e);c.css("top",e.y).show();c=a.data("cp.hsb");c.h=Math.min(Math.max(Math.round(2.4*(150-e.y-1)),0),360);j(a,c,!0)},j=function(a,b,c){a.data("cp.hsb",b);var e=r(q(b));c&&a.val(o(e,a.data("cp.letterCase")));a.data("cp.trigger").removeClass("alpha");a.data("cp.trigger").css("backgroundColor","#"+e);a.data("cp.selector")&&a.data("cp.selector").find(".wheel").css("backgroundColor","#"+r(q({h:b.h,s:100,b:100})));a.data("cp.change")&&e!==a.data("cp.lastChange")&&
(a.data("cp.change").call(a.get(0),e,q(b)),a.data("cp.lastChange",e))},n=function(b){b.val(p(b.val()));var c=l(b.val());if(!c)return b.data("cp.trigger").addClass("alpha"),!1;var c=t(c),e=b.data("cp.hsb");if(c.h===e.h&&c.s===e.s&&c.b===e.b)return!0;e=m(c);a(b.data("cp.colorPicker")).css("top",e.y+"px").css("left",e.x+"px");b.data("cp.colorPosition",e);e={y:Math.min(Math.max(150-c.h/2.4,0),150)-1};a(b.data("cp.huePicker")).css("top",e.y+"px");b.data("cp.huePosition",e);j(b,c);return!0},o=function(a,
b){return"lowercase"===b?a.toLowerCase():"uppercase"===b?a.toUpperCase():a},m=function(a){var b=Math.min(Math.max(Math.ceil(a.s/0.67),0),150),a=Math.min(Math.max(150-Math.ceil(a.b/0.67),0),150);return{x:b-5,y:a-5}},p=function(a){return a.replace(/[^A-F0-9]/ig,"")},l=function(a){a=p(a);if(!a)return null;3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return 6===a.length?a:null},q=function(a){var b,c,e;b=Math.round(a.h);s=Math.round(255*a.s/100);v=Math.round(255*a.b/100);if(0===s)b=c=e=v;else{var a=
v,f=(255-s)*v/255,d=(a-f)*(b%60)/60;360===b&&(b=0);60>b?(b=a,e=f,c=f+d):120>b?(c=a,e=f,b=a-d):180>b?(c=a,b=f,e=f+d):240>b?(e=a,b=f,c=a-d):300>b?(e=a,c=f,b=f+d):360>b?(b=a,c=f,e=a-d):e=c=b=0}return{r:Math.round(b),g:Math.round(c),b:Math.round(e)}},r=function(b){var c=[parseInt(b.r).toString(16),parseInt(b.g).toString(16),parseInt(b.b).toString(16)];a.each(c,function(a,b){1===b.length&&(c[a]="0"+b)});return c.join("")},t=function(a){var b;b=parseInt(a,16);var a=b>>16,c=(b&65280)>>8;b&=255;var e={h:0,
s:0,b:0},f=Math.min(a,c,b),d=Math.max(a,c,b),f=d-f;e.b=d;e.s=0!==d?255*f/d:0;e.h=0!==e.s?a===d?(c-b)/f:c===d?2+(b-a)/f:4+(a-c)/f:-1;e.h*=60;0>e.h&&(e.h+=360);e.s*=100/255;e.b*=100/255;0===e.s&&(e.h=360);return e};switch(f){case "readonly":return a(this).each(function(){a(this).hasClass("miniColors")&&a(this).prop("readonly",d)}),a(this);case "disabled":return a(this).each(function(){a(this).hasClass("miniColors")&&(d?e(a(this)):a(this).prop("disabled",!1).data("cp.trigger").css("opacity",1))}),a(this);
case "value":if(void 0===d){if(!a(this).hasClass("miniColors"))break;var u=a(this),w=l(u.val());return w?o(w,u.data("cp.letterCase")):null}a(this).each(function(){a(this).hasClass("miniColors")&&(a(this).val(d),n(a(this)))});return a(this);case "destroy":return a(this).each(function(){if(a(this).hasClass("miniColors")){var b=a(this);k();b=a(b);b.data("cp.trigger").remove();b.attr("autocomplete",b.data("cp.original-autocomplete")).attr("maxlength",b.data("cp.original-maxlength")).removeData().removeClass("miniColors").unbind(".miniColors");
a(document).unbind(".miniColors")}}),a(this);default:return f||(f={}),a(this).each(function(){"input"===a(this)[0].tagName.toLowerCase()&&!a(this).data("cp.trigger")&&c(a(this),f,d)}),a(this)}}})})(jQuery);
(function(){Function.prototype.inheritFrom=function(a,f){var d=function(){};d.prototype=a.prototype;this.prototype=new d;this.prototype.constructor=this;this.prototype.baseConstructor=a;this.prototype.superClass=a.prototype;if(f)for(var b in f)this.prototype[b]=f[b]};Number.prototype.jSliderNice=function(a){var f=""+Number(this),d,b="";if(d=f.match(/^(-)?(\d+)([\.,](\d+))?$/)){var f=d[2],c=d[4]?Number("0."+d[4]):0;if(c){b=Math.pow(10,a?a:2);c=Math.round(c*b);b=sNewDecPart=""+c;if(sNewDecPart.length<
a){a-=sNewDecPart.length;for(c=0;c<a;c++)b="0"+b}b=","+b}else if(a&&0!=a){for(c=0;c<a;c++)b+="0";b=","+b}if(1E3>Number(f))b=f+b;else{a="";for(c=1;3*c<f.length;c++)a=" "+f.substring(f.length-3*c,f.length-3*(c-1))+a;b=f.substr(0,3-3*c+f.length)+a+b}return d[1]?"-"+b:b}return f};this.jSliderIsArray=function(a){return"undefined"==typeof a?!1:a instanceof Array||!(a instanceof Object)&&"[object Array]"==Object.prototype.toString.call(a)||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice")?!0:!1}})();(function(){var a={};this.jSliderTmpl=function d(b,c){var e=!/\W/.test(b)?a[b]=a[b]||d(b):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return c?e(c):e}})();
(function(a){this.Draggable=function(){this._init.apply(this,arguments)};Draggable.prototype={oninit:function(){},events:function(){},onmousedown:function(){this.ptr.css({position:"absolute"})},onmousemove:function(a,d,b){this.ptr.css({left:d,top:b})},onmouseup:function(){},isDefault:{drag:!1,clicked:!1,toclick:!0,mouseup:!1},_init:function(){if(0<arguments.length){this.ptr=a(arguments[0]);this.outer=a(".draggable-outer");this.is={};a.extend(this.is,this.isDefault);var f=this.ptr.offset();this.d=
{left:f.left,top:f.top,width:this.ptr.width(),height:this.ptr.height()};this.oninit.apply(this,arguments);this._events()}},_getPageCoords:function(a){return a.targetTouches&&a.targetTouches[0]?{x:a.targetTouches[0].pageX,y:a.targetTouches[0].pageY}:{x:a.pageX,y:a.pageY}},_bindEvent:function(a,d,b){this.supportTouches_?a.get(0).addEventListener(this.events_[d],b,!1):a.bind(this.events_[d],b)},_events:function(){var f=this;this.supportTouches_=a.browser.webkit&&-1!=navigator.userAgent.indexOf("Mobile");
this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"};this._bindEvent(a(document),"move",function(a){f.is.drag&&(a.stopPropagation(),a.preventDefault(),f._mousemove(a))});this._bindEvent(a(document),"down",function(a){f.is.drag&&(a.stopPropagation(),a.preventDefault())});this._bindEvent(a(document),"up",function(a){f._mouseup(a)});this._bindEvent(this.ptr,
"down",function(a){f._mousedown(a);return!1});this._bindEvent(this.ptr,"up",function(a){f._mouseup(a)});this.ptr.find("a").click(function(){f.is.clicked=!0;if(!f.is.toclick)return f.is.toclick=!0,!1}).mousedown(function(a){f._mousedown(a);return!1});this.events()},_mousedown:function(f){this.is.drag=!0;this.is.clicked=!1;this.is.mouseup=!1;var d=this.ptr.offset(),b=this._getPageCoords(f);this.cx=b.x-d.left;this.cy=b.y-d.top;a.extend(this.d,{left:d.left,top:d.top,width:this.ptr.width(),height:this.ptr.height()});
this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),a(document.body).height()),overflow:"hidden"});this.onmousedown(f)},_mousemove:function(a){this.is.toclick=!1;var d=this._getPageCoords(a);this.onmousemove(a,d.x-this.cx,d.y-this.cy)},_mouseup:function(f){this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(a.browser.mozilla?this.outer.css({overflow:"hidden"}):this.outer.css({overflow:"visible"}),a.browser.msie&&"6.0"==a.browser.version?this.outer.css({height:"100%"}):
this.outer.css({height:"auto"})),this.onmouseup(f))}}})(jQuery);
(function(a){function f(){this.baseConstructor.apply(this,arguments)}a.slider=function(b,c){var e=a(b);e.data("jslider")||e.data("jslider",new jSlider(b,c));return e.data("jslider")};a.fn.slider=function(b,c){var e,f=arguments;this.each(function(){var d=a.slider(this,b);if("string"==typeof b)switch(b){case "value":if(void 0!==f[1]&&void 0!==f[2]){if(d=d.getPointers(),null!=d[0]&&null!=f[1]&&(d[0].set(f[1]),d[0].setIndexOver()),null!=d[1]&&null!=f[2])d[1].set(f[2]),d[1].setIndexOver()}else void 0!==
f[1]?(d=d.getPointers(),null!=d[0]&&null!=f[1]&&(d[0].set(f[1]),d[0].setIndexOver())):e=d.getValue();break;case "prc":if(void 0!==f[1]&&void 0!==f[2]){if(d=d.getPointers(),null!=d[0]&&null!=f[1]&&(d[0]._set(f[1]),d[0].setIndexOver()),null!=d[1]&&null!=f[2])d[1]._set(f[2]),d[1].setIndexOver()}else void 0!==f[1]?(d=d.getPointers(),null!=d[0]&&null!=f[1]&&(d[0]._set(f[1]),d[0].setIndexOver())):e=d.getPrcValue();break;case "calculatedValue":var g=d.getValue().split(";");e="";for(var h=0;h<g.length;h++)e+=
(0<h?";":"")+d.nice(g[h]);break;case "skin":d.setSkin(f[1])}else!b&&!c&&(jSliderIsArray(e)||(e=[]),e.push(slider))});jSliderIsArray(e)&&1==e.length&&(e=e[0]);return e||this};var d={settings:{from:1,to:10,step:1,smooth:!0,limits:!0,round:0,value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:jSliderTmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"><i></i></i><i class="r"><i></i></i><i class="v"><i></i></i></div><div class="<%=className%>-pointer"><i></i></div><div class="<%=className%>-pointer <%=className%>-pointer-to"><i></i></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value"><span></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};
this.jSlider=function(){return this.init.apply(this,arguments)};jSlider.prototype={init:function(b,c){this.settings=a.extend(!0,{},d.settings,c?c:{});this.inputNode=a(b).hide();this.settings.interval=this.settings.to-this.settings.from;this.settings.value=this.inputNode.attr("value");this.settings.calculate&&a.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate);this.settings.onstatechange&&a.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange);
this.is={init:!1};this.o={};this.create()},onstatechange:function(){},create:function(){var b=this;this.domNode=a(d.template({className:d.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()}));this.inputNode.after(this.domNode);this.drawScale();this.settings.skin&&0<this.settings.skin.length&&this.setSkin(this.settings.skin);this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};a.extend(this.o,
{pointers:{},labels:{"0":{o:this.domNode.find(d.selector+"value").not(d.selector+"value-to")},1:{o:this.domNode.find(d.selector+"value").filter(d.selector+"value-to")}},limits:{"0":this.domNode.find(d.selector+"label").not(d.selector+"label-to"),1:this.domNode.find(d.selector+"label").filter(d.selector+"label-to")}});a.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")});a.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")});b.settings.value.split(";")[1]||(this.settings.single=
!0,this.domNode.addDependClass("single"));b.settings.limits||this.domNode.addDependClass("limitless");this.domNode.find(d.selector+"pointer").each(function(a){var e=b.settings.value.split(";")[a];if(e){b.o.pointers[a]=new f(this,a,b);var d=b.settings.value.split(";")[a-1];d&&new Number(e)<new Number(d)&&(e=d);e=e<b.settings.from?b.settings.from:e;e=e>b.settings.to?b.settings.to:e;b.o.pointers[a].set(e,true)}});this.o.value=this.domNode.find(".v");this.is.init=!0;a.each(this.o.pointers,function(){b.redraw(this)});
(function(b){a(window).resize(function(){b.onresize()})})(this)},setSkin:function(a){this.skin_&&this.domNode.removeDependClass(this.skin_,"_");this.domNode.addDependClass(this.skin_=a,"_")},setPointersIndex:function(){a.each(this.getPointers(),function(a){this.index(a)})},getPointers:function(){return this.o.pointers},generateScale:function(){if(this.settings.scale&&0<this.settings.scale.length){for(var a="",c=this.settings.scale,e=10*(100/(c.length-1))/10,d=0;d<c.length;d++)a+='<span style="left: '+
d*e+'%">'+("|"!=c[d]?"<ins>"+c[d]+"</ins>":"")+"</span>";return a}return""},drawScale:function(){this.domNode.find(d.selector+"scale span ins").each(function(){a(this).css({marginLeft:-a(this).outerWidth()/2})})},onresize:function(){var b=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};a.each(this.o.pointers,function(){b.redraw(this)})},limits:function(a,c){if(!this.settings.smooth)var e=100*this.settings.step/this.settings.interval,a=Math.round(a/e)*e;if((e=this.o.pointers[1-
c.uid])&&c.uid&&a<e.value.prc)a=e.value.prc;e&&(!c.uid&&a>e.value.prc)&&(a=e.value.prc);0>a&&(a=0);100<a&&(a=100);return Math.round(10*a)/10},redraw:function(a){if(!this.is.init)return!1;this.setValue();this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"});this.o.labels[a.uid].value.html(this.nice(a.value.origin));this.redrawLabels(a)},redrawLabels:function(a){function c(a,b,c){b.margin=
-b.label/2;label_left=b.border+b.margin;0>label_left&&(b.margin-=label_left);b.border+b.label/2>e.sizes.domWidth?(b.margin=0,b.right=!0):b.right=!1;a.o.css({left:c+"%",marginLeft:b.margin,right:"auto"});b.right&&a.o.css({left:"auto",right:0});return b}var e=this,d=this.o.labels[a.uid],f=a.value.prc,g={label:d.o.outerWidth(),right:!1,border:f*this.sizes.domWidth/100};if(!this.settings.single){var h=this.o.pointers[1-a.uid],j=this.o.labels[h.uid];switch(a.uid){case 0:g.border+g.label/2>j.o.offset().left-
this.sizes.domOffset.left?(j.o.css({visibility:"hidden"}),j.value.html(this.nice(h.value.origin)),d.o.css({visibility:"visible"}),f=(h.value.prc-f)/2+f,h.value.prc!=a.value.prc&&(d.value.html(this.nice(a.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(h.value.origin)),g.label=d.o.outerWidth(),g.border=f*this.sizes.domWidth/100)):j.o.css({visibility:"visible"});break;case 1:g.border-g.label/2<j.o.offset().left-this.sizes.domOffset.left+j.o.outerWidth()?(j.o.css({visibility:"hidden"}),j.value.html(this.nice(h.value.origin)),
d.o.css({visibility:"visible"}),f=(f-h.value.prc)/2+h.value.prc,h.value.prc!=a.value.prc&&(d.value.html(this.nice(h.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(a.value.origin)),g.label=d.o.outerWidth(),g.border=f*this.sizes.domWidth/100)):j.o.css({visibility:"visible"})}}g=c(d,g,f);j&&(g={label:j.o.outerWidth(),right:!1,border:h.value.prc*this.sizes.domWidth/100},g=c(j,g,h.value.prc));this.redrawLimits()},redrawLimits:function(){if(this.settings.limits){var a=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||
0==key){var c=this.o.labels[this.o.pointers[key].uid],e=c.o.offset().left-this.sizes.domOffset.left,d=this.o.limits[0];e<d.outerWidth()&&(a[0]=!1);d=this.o.limits[1];e+c.o.outerWidth()>this.sizes.domWidth-d.outerWidth()&&(a[1]=!1)}for(c=0;c<a.length;c++)a[c]?this.o.limits[c].fadeIn("fast"):this.o.limits[c].fadeOut("fast")}},setValue:function(){var a=this.getValue();this.inputNode.attr("value",a);this.onstatechange.call(this,a)},getValue:function(){if(!this.is.init)return!1;var b=this,c="";a.each(this.o.pointers,
function(a){void 0!=this.value.prc&&!isNaN(this.value.prc)&&(c+=(0<a?";":"")+b.prcToValue(this.value.prc))});return c},getPrcValue:function(){if(!this.is.init)return!1;var b="";a.each(this.o.pointers,function(a){void 0!=this.value.prc&&!isNaN(this.value.prc)&&(b+=(0<a?";":"")+this.value.prc)});return b},prcToValue:function(a){if(this.settings.heterogeneity&&0<this.settings.heterogeneity.length)for(var c=this.settings.heterogeneity,e=0,d=this.settings.from,f=0;f<=c.length;f++){var g=c[f]?c[f].split("/"):
[100,this.settings.to];g[0]=new Number(g[0]);g[1]=new Number(g[1]);if(a>=e&&a<=g[0])var h=d+(a-e)*(g[1]-d)/(g[0]-e);e=g[0];d=g[1]}else h=this.settings.from+a*this.settings.interval/100;return this.round(h)},valueToPrc:function(a,c){if(this.settings.heterogeneity&&0<this.settings.heterogeneity.length)for(var e=this.settings.heterogeneity,d=0,f=this.settings.from,g=0;g<=e.length;g++){var h=e[g]?e[g].split("/"):[100,this.settings.to];h[0]=new Number(h[0]);h[1]=new Number(h[1]);if(a>=f&&a<=h[1])var j=
c.limits(d+(a-f)*(h[0]-d)/(h[1]-f));d=h[0];f=h[1]}else j=c.limits(100*(a-this.settings.from)/this.settings.interval);return j},round:function(a){a=Math.round(a/this.settings.step)*this.settings.step;return a=this.settings.round?Math.round(a*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):Math.round(a)},nice:function(a){a=a.toString().replace(/,/gi,".");a=a.toString().replace(/ /gi,"");return Number.prototype.jSliderNice?(new Number(a)).jSliderNice(this.settings.round).replace(/-/gi,
"&minus;"):new Number(a)}};f.inheritFrom(Draggable,{oninit:function(a,c,e){this.uid=c;this.parent=e;this.value={};this.settings=this.parent.settings},onmousedown:function(){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()};this.ptr.addDependClass("hover");this.setIndexOver()},onmousemove:function(a){this._set(this.calc(this._getPageCoords(a).x))},onmouseup:function(){this.parent.settings.callback&&a.isFunction(this.parent.settings.callback)&&this.parent.settings.callback.call(this.parent,
this.parent.getValue());this.ptr.removeDependClass("hover")},setIndexOver:function(){this.parent.setPointersIndex(1);this.index(2)},index:function(a){this.ptr.css({zIndex:a})},limits:function(a){return this.parent.limits(a,this)},calc:function(a){return this.limits(100*(a-this._parent.offset.left)/this._parent.width)},set:function(a,c){this.value.origin=this.parent.round(a);this._set(this.parent.valueToPrc(a,this),c)},_set:function(a,c){c||(this.value.origin=this.parent.prcToValue(a));this.value.prc=
a;this.ptr.css({left:a+"%"});this.parent.redraw(this)}})})(jQuery);
(function(a){a.baseClass=function(f){f=a(f);return f.get(0).className.match(/([^ ]+)/)[1]};a.fn.addDependClass=function(f,d){var b=d?d:"-";return this.each(function(){var c=a.baseClass(this);c&&a(this).addClass(c+b+f)})};a.fn.removeDependClass=function(f,d){var b=d?d:"-";return this.each(function(){var c=a.baseClass(this);c&&a(this).removeClass(c+b+f)})};a.fn.toggleDependClass=function(f,d){var b=d?d:"-";return this.each(function(){var c=a.baseClass(this);c&&(a(this).is("."+c+b+f)?a(this).removeClass(c+
b+f):a(this).addClass(c+b+f))})}})(jQuery);
(function(a){var f,d,b=0;a.fn.Resizer=function(c){var e=a.extend({},{onStartDrag:function(){},onEndDrag:function(){}},c),i=function(c){f=a(c.data.el);f.blur();b=c.clientY+document.documentElement.scrollTop;d=f.height()-b;f.css("opacity",0.25);e.onStartDrag.call(c,f);a(document).mousemove(k).mouseup(g);return!1},k=function(a){var c=a.clientY+document.documentElement.scrollTop,e=d+c;b>=c&&(e-=5);b=c;e=Math.max(32,e);f.height(e+"px");32>e&&g(a);return!1},g=function(c){a(document).unbind("mousemove",
k).unbind("mouseup",g);f.css("opacity",1);f.focus();e.onEndDrag.call(c,f);d=f=null;b=0};return this.each(function(){f=a(this).addClass("processed");d=null;a(this).is("iframe")?a(this).parents(".resizable-wrapper").append(a('<div class="grippie"></div>').bind("mousedown",{el:this},i)):a(this).wrap('<div class="resizable-wrapper"></div>').parent().append(a('<div class="grippie"></div>').bind("mousedown",{el:this},i));var b=a("div.grippie",a(this).parent())[0];b.style.marginRight=b.offsetWidth-a(this)[0].offsetWidth+
"px"})}})(jQuery);CodeMirror.defineMode("atom/html",function(a,f){return CodeMirror.overlayParser(CodeMirror.getMode(a,f.backdrop||"text/html"),{token:function(a){var b=!1;if(a.match("{")){for(;null!=(ch=a.next())&&ch===ch.toUpperCase();)if("}"===ch){/^{[A-Z,_]+}$/.test(a.current())&&(b=!0);break}if(b)return"atom-var"}for(;null!=a.next()&&!a.match("{",!1););return null}})});
jQuery(document).ready(function(a){var f=[],d=function(b){a(".template-selector a.select",b).click(function(){var b=a(this),c=a(this).parents(".template-selector"),d=a(this).attr("rel");a("input.select",c).val(d).change();a("a",c).removeClass("active");b.addClass("active");return!1});a(".template-selector input.select",b).change(function(){var e=a(this).val(),d=a(this).parents(".template-selector");a('a.select[rel="'+e+'"]',d).addClass("active");if("template"!=e)a(".user-template",b).animate({opacity:"hide",
height:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},150);else{a(".user-template",b).animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},150);for(e=0;e<f.length;e++)f[e].refresh()}}).change();a("input.button-visibility",b).click(function(e){e.preventDefault();var d=a(this),e=a("input.visibility",b),f=a(".visibility-options",b),g=e.data("widget"),h=e.data("nonce");1!==parseInt(e.val())?(e.val(1),0<
a("input",f).length?(f.show(),d.val(atom_config.label_visibility_hide)):a.ajax({type:"post",url:ajaxurl,data:{action:"widget_visibility_options_fields",widget_id:g,_ajax_nonce:h},beforeSend:function(){d.val(atom_config.label_loading).attr("disabled","disabled")},error:function(a){alert(a)},success:function(a){f.append(a);d.val(atom_config.label_visibility_hide).removeAttr("disabled")}})):(e.val(0),f.hide(),d.val(atom_config.label_visibility_show));return!1})},b=function(b){a("#update-check").click(function(b){b.preventDefault();
a.ajax({type:"GET",url:ajaxurl,context:this,data:{action:"force_update_check",_ajax_nonce:a(this).data("nonce")},beforeSend:function(){a(this).text(atom_config.label_checking)},success:function(b){a(this).replaceWith(b)}})});a("textarea.resizable:not(.processed)",b).Resizer();a("textarea.code.editor",b).each(function(){f.push(CodeMirror.fromTextArea(document.getElementById(a(this).attr("id")),{lineNumbers:!0,matchBrackets:!0,mode:a(this).data("mode"),onChange:function(a){a.save()}}))});b.FormDependencies();
a(".widget-title-action",b.parents(".widget")).click(function(){setTimeout(function(){for(var a=0;a<f.length;a++)f[a].refresh();for(a=0;a<f.length;a++)f[a].refresh()},10)});a(".toggle-select-all",b).toggle(function(){a(this).select()},function(){a(this).unselect()});a(".rss-meta-box",b).each(function(){a.ajax({type:"GET",url:ajaxurl,data:{action:"rss_meta_box",feed:a(this).data("feed"),items:a(this).data("items"),_ajax_nonce:a(this).data("nonce")},context:this,success:function(b){a(this).html(b);
a("ul",this).animate({opacity:"show",height:"show"},200).show()}})});a(".color-selector",b).miniColors({change:function(){a(this).change()}});a("a.upload",b).each(function(){var b=a(this),c=a(this).attr("id"),d=a(this).data("nonce"),f=a(this).parents("div").find("input:hidden").attr("name");new AjaxUpload(c,{action:ajaxurl,name:f,data:{action:"process_upload",_ajax_nonce:d,option:f},autoSubmit:!0,responseType:"json",onChange:function(){},onSubmit:function(){b.text(atom_config.label_uploading);this.disable();
interval=window.setInterval(function(){var a=b.text();13>a.length?b.text(a+"."):b.text(atom_config.label_uploading)},200)},onComplete:function(c,d){window.clearInterval(interval);this.enable();""!=d.error?(a("div.error.upload").remove(),a("#theme-settings-form").prepend('<div class="error upload"><p>'+d.error+"</p></div>"),b.text(atom_config.label_try_another),a("html").animate({scrollTop:0},333)):(a("div.error.upload").remove(),a("img",b.parent()).animate({opacity:0,top:-100},200,function(){a(this).attr("src",
d.url).animate({opacity:1,top:0},200)}),a("a.reset_upload",b.parent()).fadeIn(150),b.text(atom_config.label_change_image),a('input[name="'+f+'"]').val(d.url).trigger("change"))}})});a("a.reset_upload",b).click(function(){var b=a(this);a(this).attr("id");a(this).data("nonce");var c=a(this).parents("div").find("input:hidden").attr("name");a("#image-"+c).animate({opacity:0,top:-100},200);b.fadeOut(150);a("a.upload",b.parent()).text(atom_config.label_upload_image);a('input[name="'+c+'"]').val("").trigger("change");
a("div.error.upload").remove();return!1})};a(document).bind("atom_ready",function(){b(a(".atom-block"));d(a("#widgets-right .widget, #wp_inactive_widgets .widget"));a("div[id*='atom-splitter-']").each(function(){a(this).addClass("atom-widget-splitter").find(".widget-control-actions .alignright").remove()});a("#atom-design-panel-status").each(function(){var b=a(this);setTimeout(function(){a("#atom-design-panel").is(":visible")?b.remove():b.addClass("error").html("<p>"+atom_config.label_design_panel_error+
"</p>")},1E4)});a("#widgets-right").ajaxComplete(function(c,e,f){var c={},f=f.data.split("&"),k,g;for(k in f)g=f[k].split("="),c[decodeURIComponent(g[0])]=decodeURIComponent(g[1]);c.action&&"save-widget"===c.action&&(k=a('input.widget-id[value="'+c["widget-id"]+'"]').parents(".widget"),e.responseText?(d(k),b(k)):wpWidgets.save(k,0,1,0))})}).trigger("atom_ready");a("a.feature").click(function(b){b.preventDefault();a.ajax({url:ajaxurl,type:"GET",context:this,data:{action:"process_featured",id:a(this).data("post"),
what:a(this).data("type"),isOn:a(this).hasClass("on")?1:0},beforeSend:function(){a(this).removeClass("on off").addClass("loading")},error:function(){a(this).removeClass("loading").addClass("error")},success:function(b){a(this).removeClass("loading").addClass(b)}})});pm.bind("themepreview-load",function(){a("#themepreview").Resizer({onEndDrag:function(b){a.cookie(b.attr("id")+"-height",b.height(),{path:"/"})}});a('input[name="background_color"]').change(function(){pm({target:window.frames.themepreview,
type:"background_color",data:{color:a(this).val(),selector:a(this).data("selector")}});a('input[name="background_image"]').change()});a('input[name="logo"]').change(function(){pm({target:window.frames.themepreview,type:"logo",data:{url:a(this).val()||"remove",title:a(this).data("title")}})});a('input[name="background_image"]').change(function(){pm({target:window.frames.themepreview,type:"background_image",data:{url:a(this).val()||"remove",selector:a(this).data("selector")}})});a('input[name="favicon"]').change(function(){pm({target:window.frames.themepreview,
type:"favicon",data:a(this).val()||"remove"})});a("#atom-design-panel").animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},333,function(){a(document).trigger("themepreview-loaded")});a("#atom-design-panel-status").remove()})});